<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>WebComponents</title>
    <style>
        * {
            color: cadetblue;
        }

        ex-layout-center {
            width: 100%;
            height: 90vh;
        }
    </style>
</head>
<body>
    <ex-layout-center>
        <ex-icon src="https://static.pepy.jp/wp-content/uploads/2015/02/06115051/shutterstock_201795194-e1484043606850.jpg"></ex-icon>
        <ex-name>ブリティッシュショートヘア</ex-name>
    </ex-layout-center>
    <script>
        (function() {
            function createScript(url) {
                var elem = document.createElement('script');
                elem.src = url;
                return elem;
            }

            function createImport(url) {
                var elem = document.createElement('link');
                elem.rel = 'import';
                elem.href = url;
                return elem;
            }

            var scripts = [];
            var imports = [];
            if ('Promise' in window) {
                scripts = ['bower_components/webcomponentsjs/webcomponents-loader.js'];
                imports = ["components.html"];
            } else {
                scripts = [
                    // 'lib/custom-elements-es5-adapter.js',
                    'bower_components/webcomponentsjs/webcomponents-loader.js'
                ];
                imports = ["components-es5.html"];
            }

            for (var i = 0; i < scripts.length; i++) {
                document.body.appendChild(createScript(scripts[i]));
            }

            for (var i = 0; i < imports.length; i++) {
                document.head.appendChild(createImport(imports[i]));
            }

            window.addEventListener('WebComponentsReady', function() {
                console.log('WebComponents Ready!');
                console.log(customElements.get('ex-layout-center'));
                console.log(customElements.get('ex-icon'));
                console.log(customElements.get('ex-name'));
            });
        })();
    </script>
</body>
</html>
